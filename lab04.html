<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laboratório 04 - Histograma e Limiarização</title>
    <link rel="icon" type="image/png" href="images/ufpng.png">
    <link rel="stylesheet" href="estilos/LAB.css">
    <link rel="stylesheet" href="estilos/reset.css">
      <a href="relatorios.html" class="home-button">Retornar à aba Relatórios</a>
        <img id="id__logo" class="logo" src="assets/ufabc.png" alt="Logo UFABC"></img>
</head>
<body>
    <section class="lab">
        <h2 class="titulo_lab">Laboratório 04 - Histograma e Limiarização </h2>

			<h3 class="intro">I. Introdução</h3>
			<p class="texto_padrao">
				O laboratório realizado consistiu em aplicação e analise de histograma em imagem e vídeo. Além da visualização gráfica desses histogramas temos manipulação deles por meio de limiarização e binarização.
			
			<p class="texto_padrao"><span class="bold-letter">
			- Histograma de Imagem:
			</span></p>
			
			<p class="texto_padrao">
				Histograma é a representação gráfica de distribuição de intensidade de uma imagem onde o eixo X é a intensidade indo de 0 a 255, e o eixo Y temos os pixels.

			</p>
			
			<p class="texto_padrao"><span class="bold-letter">
			- Limiarização:
			</span></p>
			
			<p class="texto_padrao">
				Processo que limita a intensidade do valor de um pixel, podendo alterar para seu valor máximo ou mínimo dependendo da aplicação.

			</p>
			
			<p class="texto_padrao"><span class="bold-letter">
			- Equalização de imagem:

			</span></p>
			
			<p class="texto_padrao">
				Método que espalha os valores de intensidade ao longo do espectro, reduzindo a concentração de valores.
			</p>
			
			<p class="texto_padrao"><span class="bold-letter">
		
				<h4 class="subtitulo_lab2"> II. a) Objetivo </h4>
					
					<p class="texto_padrao"></p>


    
			<h3 class="subtitulo_lab"> III. Materiais e Métodos </h3>

				<h4 class="subtitulo_lab"> III. a) Materiais </h4>
					<li class="texto_padrao">Webcam - Microsoft LifeCam VX800 </li>
					<li class="texto_padrao">Software OpenCV </li>
					<li class="texto_padrao">Computador com sistema operacional UBUNTU 22.04.05 LTS - 64 Bits</li>

				<h4 class="subtitulo_lab2"> III. b) Procedimento Experimental </h4>

					<h4 class="subtitulo_lab4">- Preparação da Imagem: </h4>
					<p class="texto_padrao">Carregamos algumas imagens dos integrantes do grupo para obter vários histogramas a fim de analisar os efeitos de equalização e limiarizacao em diferentes cenarios. </p>
         
					<p class="texto_padrao">O procedimento experimental foi realizado em etapas, aplicando diferentes filtros de suavização em uma imagem base com o uso da biblioteca OpenCV. O objetivo era comparar os efeitos de cada filtro e observar como a variação do tamanho do kernel impacta a qualidade da imagem em termos de suavização e preservação de detalhes.
					</p>
					<h4 class="subtitulo_lab4">- Aplicação de filtro preto e branco: </h4>
					<p class="texto_padrao"><span class="bold-letter">Ambos os filtros, equalização e limiarizacao foram utilizados em cima de um filtro preto e branco pois os canais de cores RGB são mostrados separadamente no histograma.</p>
				
					<h4 class="subtitulo_lab4">- A limiariação da imagem:</h4>
					<p class="texto_padrao"><span class="bold-letter">Aplicando um limite (thresholding) pode-se definir o valor de intensidade de um pixel, como por exemplo: Após o valor do pixel ultrapassar o limite ele se torna máximo, ou torna todos os pixels em zero se diferentes do threshold, tornando a imagem binária.</p>
			
		
			<h3 class="subtitulo_lab"> IV. Resultados e Análises </h3>
	    		<h4 class="subtitulo_lab4">- Item 1: </h4>
			<p class="texto_padrao"> (1) Desenvolva um programa para fazer a leitura de sua imagem, convertendo para tons de cinza, calcular o histograma, e realizar a equalização do histograma. Ao toque de uma tecla, o programa deve salvar a imagem de entrada em cinza e a imagem equalizada, através de comando OpenCV. Salve também as imagens dos gráficos de histograma antes e depois da equalização. Realize este experimento com as imagens individuais, separadamente, de cada integrante do grupo.</p>

	    			<p class="subtitulo_lab4"> Fotos Ana:</p>
					<div class="image-row">

						<div class="image-container">
							<img src="./lab4/imagens/ana3.jpeg" alt="Foto Original " width="600px" height="500px">
							<p class="caption">Foto Original </p>
						</div>
					
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_ana/Source%20image.png" alt="Foto Cinza Original" width="600px" height="500px">
							<p class="caption">Foto Cinza Original </p>
						</div>
					
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_ana/Equalized%20Image.png" alt="Imagem Equalizada" width="600px" height="500px">
							<p class="caption">Imagem Equalizada </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/imagens/calcHist%20Ana.png" alt="Histograma Original" width="600px" height="500px">
							<p class="caption">Histograma Original </p>
						</div>
					
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_ana/Grayscale_Histogram_ana.png" width="600px" height="500px">
							<p class="caption">Histograma Cinza Original</p>
						</div>
				
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_ana/Equalized_Histogram_ana.png" alt="Histograma Equalizada" width="600px" height="500px">
							<p class="caption">Histograma Equalizada</p>
						</div>
					</div>
	    			<p class="subtitulo_lab4"> Fotos Caio:</p>
					<div class="image-row">
						<div class="image-container">
							<img src="./images/caio_selfie.jpg" alt="Foto Original " width="600px" height="500px">
							<p class="caption">Foto Original </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_caio/Source%20image.png" alt="Foto Cinza Original" width="600px" height="500px">
							<p class="caption">Foto Cinza Original </p>
						</div>
					
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_caio/Equalized%20Image.png" alt="Imagem Equalizada" width="600px" height="500px">
							<p class="caption">Imagem Equalizada </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_caio/caio_ori.png" alt="Histograma Original" width="600px" height="500px">
							<p class="caption">Histograma Original </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_caio/Grayscale_Histogram_Caio.png" width="600px" height="500px">
							<p class="caption">Histograma Cinza Original</p>
						</div>
				
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_caio/Equalized_Histogram_caio.png" alt="Histograma Equalizada" width="600px" height="500px">
							<p class="caption">Histograma Equalizada</p>
						</div>
					</div>
	    			<p class="subtitulo_lab4"> Fotos Edson:</p>
					<div class="image-row">
						<div class="image-container">
							<img src="./lab4/imagens/edson.jpg" alt="Foto Original " width="600px" height="500px">
							<p class="caption">Foto Original </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_edson/Grayscale_Image.png" alt="Foto Cinza Original" width="600px" height="500px">
							<p class="caption">Foto Cinza Original </p>
						</div>
					
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_edson/Equalized_Image.png" alt="Imagem Equalizada" width="600px" height="500px">
							<p class="caption">Imagem Equalizada </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/imagens/calcHist%20edson.png" alt="Histograma Original" width="600px" height="500px">
							<p class="caption">Histograma Original </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_edson/Grayscale_Histogram_ed.png" width="600px" height="500px">
							<p class="caption">Histograma Cinza Original</p>
						</div>
				
						<div class="image-container">
							<img src="./lab4/codigo/item1/result_edson/Equalized_Histogram_ed.png" alt="Histograma Equalizada" width="600px" height="500px">
							<p class="caption">Histograma Equalizada</p>
						</div>
					</div>
					<p class="texto_padrao"><span class="bold-letter"> Com o código <a href="https://github.com/salesana/processamento-video/blob/main/lab4/codigo/item1/Historigrama.cpp">aqui</a> foram analisadas as imagens dos integrantes do grupo tiradas anteriormente com diferentes cameras e ambientes. após processadas da pra perceber que as imagens equalizadas tem mais contrastes do que as originais </p>
	    				</div>
	    		<h4 class="subtitulo_lab4">- Item 2: </h4>
			<p class="texto_padrao"> (2) Elabore outro programa modificando o código do item (1), agora fazendo a leitura de imagem da webcam. 
			Neste caso, o programa deve adicionalmente mostrar uma janela ao vivo com a imagem cinza e o resultado da imagem equalizada.

			Realize este experimento com cada integrante do grupo e com um objeto colorido.
			</p>
	    
	    		<p class="subtitulo_lab4"> Ana e Edson:</p>
					<div class="image-row">
						
						<div class="image-container">
							<img src="./lab4/codigo/item2/Grayscale_Image.png" alt="Foto Cinza Original" width="600px" height="500px">
							<p class="caption">Foto Cinza Original </p>
						</div>
					
						<div class="image-container">
							<img src="./lab4/codigo/item2/Equalized_Image.png" alt="Imagem Equalizada" width="600px" height="500px">
							<p class="caption">Imagem Equalizada </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/codigo/item2/Grayscale_Histogram.png" alt="Histograma Cinza Original"  width="600px" height="500px">
							<p class="caption">Histograma Cinza Original</p>
						</div>
				
						<div class="image-container">
							<img src="./lab4/codigo/item2/Equalized_Histogram.png" alt="Histograma Equalizada" width="600px" height="500px">
							<p class="caption">Histograma Equalizada</p>
						</div>
					</div>
	    
	    		<p class="subtitulo_lab4"> Caio e objetos:</p>
					<div class="image-row">
						
						<div class="image-container">
							<img src="./lab4/codigo/item2/Grayscale_Image_caio.png" alt="Foto Cinza Original" width="600px" height="500px">
							<p class="caption">Foto Cinza Original </p>
						</div>
					
						<div class="image-container">
							<img src="./lab4/codigo/item2/Equalized_Image_caio.png" alt="Imagem Equalizada" width="600px" height="500px">
							<p class="caption">Imagem Equalizada </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/codigo/item2/Grayscale_Histogram_caio.png" alt="Histograma Cinza Original" width="600px" height="500px">
							<p class="caption">Histograma Cinza Original</p>
						</div>
				
						<div class="image-container">
							<img src="./lab4/codigo/item2/Equalized_Histogram_caio.png" alt="Histograma Equalizada" width="600px" height="500px">
							<p class="caption">Histograma Equalizada</p>
						</div>
					</div>
				<p class="texto_padrao"> Foi utilizado o código <a href="https://github.com/salesana/processamento-video/blob/main/lab4/codigo/item2/item2.cpp">aqui</a> para aplicar os mesmos filtros do item 1 na webcam. Diferente do item 1 a imagem equalizada não ficou tano distorcida comparado com a foto cinza original em ambos os casos, isso pode ser dado pelo fato do histograma original nesse caso já ser mais distribuído originalmente. Pode estar relacionado a luz ambiente ou qualidade da camera. </p>
				</div>
			
	    		<h4 class="subtitulo_lab4">- Item 3: Estudo da binarização </h4>
	    		<p class="texto_padrao">Desenvolva outro programa modificando o item (2), incluindo a limiarização da imagem do tutorial acima, para obtenção de uma imagem binária. Adicione a Equalização de Histograma antes da limiarização.  Realize este experimento com pessoas e com objetos. Compare e analise o efeito sem e com a equalização de histograma no resultado da imagem binária.</p>

	    				<p class="subtitulo_lab4"> Caio(Limiarizacao 110):</p>
					<div class="image-row">
						
						<div class="image-container">
							<img src="lab4/codigo/item3/item3/imagens_item3/caio_cinza.png" alt="Foto Cinza Original" width="600px" height="500px">
							<p class="caption">Foto Cinza Original </p>
						</div>
					
						<div class="image-container">
							<img src="lab4/codigo/item3/item3/imagens_item3/caio_Equalizado.png" alt="Imagem Caio Equalizada" width="600px" height="500px">
							<p class="caption">Imagem Caio Equalizada </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/codigo/item3/item3/imagens_item3/Rosto_Sem_Equalizacao_Limiarizada_110.png" alt="Caio Limiarização 110 sem equalização" width="600px" height="500px">
							<p class="caption">Caio Limiarização 110 sem equalização</p>
						</div>
				
						<div class="image-container">
							<img src="./lab4/codigo/item3/item3/imagens_item3/Rosto_Com_Equalizacao_Limiarizada_110.png" alt="Caio Limiarização 110 com equalização" width="600px" height="500px">
							<p class="caption">Caio Limiarização 110 com equalização </p>
						</div>
					</div>
					
					<p class="texto_padrao">
					A limiariação de uma imagem é um processo que determina se certo pixel de uma imagem tem sua intensidade acima ou abaixo de um limite pré-determinado.
					Dependendo do tipo de limiariação utilizado, este pixel poderá ser determinado como válido e, portanto, terá sua intensidade alterada para o máximo, tornando-o, nos casos
					de imagens preto e branco, em um pixel branco. Caso o pixel seja, no entanto, inválido, o contrário acontecerá e ele terá sua intensidade anulada, tornando-se, assim,
					um pixel totalmente preto. <br>
					Esta técnica é amplamente utilizada para segmentação de imagens, principalmente, para separação de objetos que se deseja analisar, em especial, objetos que estejam em primeiro plano,
					destacando-os do fundo da imagem. <br>
					Para as imagens acima, foi utilizada a limiarização binária, com limite equivalente a 110 unidades para o rosto e 200 para o objeto. Para este tipo, os pixels que apresentaram intensidade superior ao limite aplicado, tornaram-se brancos,
					já os demais, pretos. É possível notar que, após a limiarização, grande parte do rosto do integrante foi destacada. Já para o objeto, seus detalhes, como título e artes do livro foram destacados. No entanto, para 
					ambos sujeitos capturados, nota-se que, devido a baixa qualidade da câmera e iluminação do laboratório, não foi possível destacar, apenas o primeiro plano da imagem, já que grande parte 
					do fundo também foi destacado, principalmente para as imagens de rosto. <br>
					Analisando a limiarização aplicada para as imagens previamente equalizadas, nota-se que, este procedimento, teve pouco impacto nas regiões destacadas. Em contrapartida,
					claramente nota-se que as bordas dos objetos presentes nas imagens estão mais bem definidas, trazendo assim maiores detalhes e distinções sobre o que está em primeiro e segundo plano.
					</p>

	    				<p class="subtitulo_lab4"> Objeto (Limiarizacao 110):</p>
					<div class="image-row">
						
						<div class="image-container">
							<img src="./lab4/codigo/item3/item3/imagens_item3/objeto_cinza.png" alt="Foto Cinza Original" width="600px" height="500px">
							<p class="caption">Foto Cinza Original </p>
						</div>
					
						<div class="image-container">
							<img src="./lab4/codigo/item3/item3/imagens_item3/objeto_equalizado.png" alt="Imagem Objeto Equalizada" width="600px" height="500px">
							<p class="caption">Imagem Objeto Equalizada </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/codigo/item3/item3/imagens_item3/objeto_Sem_Equalizacao_Limiarizada_200.png" alt="Objeto Limiarização 110 sem equalização" width="600px" height="500px">
							<p class="caption">Objeto Limiarização 200 sem equalização</p>
						</div>
				
						<div class="image-container">
							<img src="./lab4/codigo/item3/item3/imagens_item3/objeto_Com_Equalizacao_Limiarizada_200.png" alt="Objeto Limiarização 110 com equalização" width="600px" height="500px">
							<p class="caption">Objeto Limiarização 200 com equalização </p>
						</div>
					</div>
	    		
	    		<h4 class="subtitulo_lab4">- Item 4: Estudo da equalização nas cores</h4>
	    		<p class="texto_padrao">Elabore outro programa modificando o item (2), porém sem converter para cinza, mas agora realizando a equalização nas três cores separadamente, e juntar os canais equalizados na imagem colorida de saída. Realize este experimento com pessoas e com objetos coloridos. Compare e analise o efeito sem e com a equalização de histograma no resultado da imagem colorida gerada e no histograma.</p>
	    				
	    				<p class="subtitulo_lab4"> Celular:</p>
					<div class="image-row">
						
						<div class="image-container">
							<img src="./lab4/codigo/item4/item4/Imagem_Original.png" alt="Foto Cinza Original" width="600px" height="500px">
							<p class="caption">imagem Original </p>
						</div>
					
						<div class="image-container">
							<img src="./lab4/codigo/item4/item4/Imagem_Equalizada_mysql.png" alt="Imagem Caio Equalizada" width="600px" height="500px">
							<p class="caption">Imagem Equalizada combinada </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/codigo/item4/item4/Histograma_Celular.png" alt="Caio Limiarização 110 sem equalização" width="600px" height="500px">
							<p class="caption">Histograma Original </p>
						</div>
				
						<div class="image-container">
							<img src="./lab4/codigo/item4/item4/Histograma_Equalizado_Celular.png" alt="Caio Limiarização 110 com equalização" width="600px" height="500px">
							<p class="caption">Hitograma Equalizada Reconstruida </p>
						</div>
					</div>

	    				<p class="subtitulo_lab4"> Gabriel:</p>
					<div class="image-row">
						
						<div class="image-container">
							<img src="./lab4/codigo/item4/item4/gabrielori.png" alt="Foto Cinza Original" width="600px" height="500px">
							<p class="caption">imagem Original </p>
						</div>
					
						<div class="image-container">
							<img src="./lab4/codigo/item4/item4/gabrielequalizado.png" alt="Imagem Caio Equalizada" width="600px" height="500px">
							<p class="caption">Imagem Equalizada combinada </p>
						</div>
						
						<div class="image-container">
							<img src="./lab4/codigo/item4/item4/Histograma_gabs.png" alt="Caio Limiarização 110 sem equalização" width="600px" height="500px">
							<p class="caption">Histograma Original </p>
						</div>
				
						<div class="image-container">
							<img src="./lab4/codigo/item4/item4/Histograma_Equalizado_gabriel.png" alt="Caio Limiarização 110 com equalização" width="600px" height="500px">
							<p class="caption">Hitograma Equalizada Reconstruida </p>
						</div>
					</div>
					<p class="texto_padrao">
						Quando aplicada aos canais de cores, ao comparar os histogramas, é possível notar um aumento nas amplitudes das intensidades, bem como um maior espalhamento
						nas frequências ao longo do espectro. Este resultado faz com que, nas imagens reconstruídas, regiões que haviam menor intensidade de cores apareçam mais saturadas.
						Além disso, é possível notar que, nestas regiões, cores com maiores amplitudes em outras regiões tendem a "dominar", fazendo com que estas regiões tenham suas cores
						bem diferentes do original. <br>
						É possível notar esse comportamento na imagem do objeto em que, os canais verde e vermelho, de maior intensidade, espalham-se sobre a imagem, tornando o fundo mais amarelado,
						que é a cor resultante do combinação das duas.
					</p>

			<h3 class="subtitulo_lab">V. Conclusões e Comentários Finais</h3>
				<p class="texto_padrao">(Concluir aqui) </p>
			
			<h3 class="subtitulo_lab">VI. Referências</h3>
				<p class="texto_padrao"> <a href="https://docs.opencv.org/4.x/db/df5/tutorial_linux_gcc_cmake.html">Using OpenCV with gcc and Cmake</a>
				</p>
				<p class="texto_padrao"> <a href="https://docs.opencv.org/4.x/db/deb/tutorial_display_image.html">Getting Started with Images</a>
				</p>
				<p class="texto_padrao"> <a href="https://learnopencv.com/reading-and-writing-videos-using-opencv/">Reading and Writing Videos using OpenCV</a>
				</p>
	    			<p class="texto_padrao"> <a href="https://stackoverflow.com/questions/30103077/what-is-the-codec-for-mp4-videos-in-python-opencv">what is the codec for mp4 videos in python OpenCV</a>
				</p>
</body>
</html>
