<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laboratório 05 - Subtração de Fundo e Detecção de Movimento</title>
    <link rel="icon" type="image/png" href="images/ufpng.png">
    <link rel="stylesheet" href="estilos/LAB.css">
    <link rel="stylesheet" href="estilos/reset.css">
      <a href="relatorios.html" class="home-button">Retornar à aba Relatórios</a>
        <img id="id__logo" class="logo" src="assets/ufabc.png" alt="Logo UFABC"></img>
</head>
<body>
    <section class="lab">
        <h2 class="titulo_lab">Laboratório 05 - Subtração de Fundo e Detecção de Movimento</h2>

			<h3 class="intro">I. Introdução</h3>
				<p class="texto_padrao"> O laboratório realizado consistiu em aplicação de tecnicas para subtracao do fundo e detecção de movimento da câmera através do software "OpenCV" instaciado em sistema operacional Ubuntu (Linux). </p>

			<h3 class="subtitulo_lab"> II. Fundamentos Básicos</h3>
			
				<p class="texto_padrao">A qualidade da captura de imagem e vídeo depende de diversos fatores, como a iluminação, resolução e configuração da câmera. A utilização de luz direta e difusa, juntamente com a correção de temperatura de cor, é crucial para obter resultados nítidos e bem iluminados. Durante o experimento, foram testadas diversas disposições de câmera e iluminação a fim de obtermos o melhor resultado. Além disso, a escolha da resolução afeta diretamente a clareza e o tamanho do arquivo final.</p>

		
				<h4 class="subtitulo_lab2"> II. a) Objetivo </h4>
		
					<p class="texto_padrao"> Apicação de metodos de detecção de movimento usando aplicações OpenCV, no qual o modelo faz uma máscara com o primeiro plano e realiza a subtração do fundo, resultando numa imagem preto e branco com os objetos da cena.O modelo possui duas etapas: Criação do fundo e atualização. no primeiro passo o modelo computa do fundo da cena e após isso ele atualiza se adaptando as possiveis mudanças do ambiente. </p>


    
			<h3 class="subtitulo_lab"> III. Materiais e Métodos </h3>

				<h4 class="subtitulo_lab"> III. a) Materiais </h4>
					<li class="texto_padrao">Webcam - Microsoft LifeCam VX800 </li>
					<li class="texto_padrao">Software OpenCV </li>
					<li class="texto_padrao">Computador com sistema operacional UBUNTU 22.04.05 LTS - 64 Bits</li>

				<h4 class="subtitulo_lab2"> III. b) Procedimento Experimental </h4>
					<p class="texto_padrao">Apicando o código <a href="https://github.com/salesana/processamento-video/blob/main/lab05/pt11/bg_sub.cpp"> código </a> é possivel aplicar a remoção de fundo em um video pré renderizado, seguindo todos os passos para aplicação em OpenCV. </p>


					<h4 class="subtitulo_lab4">- Preparação do vídeo: </h4>
					<p class="texto_padrao">	Carregamos alguns videos não utilizados no lab01 e iremos testá-los com o codigo fornecidos pelo OpenCV. O procedimento experimental foi realizado em etapas, antes de testar o vídeo é nbecessario alterar o código do programa .cpp para ele ler o vídeo certo e foram testados vídeos com diferentes.					
						</p>
        
			<h3 class="subtitulo_lab"> IV. Resultados e Análises </h3>
				<h4 class="subtitulo_lab">a) Subtração de fundo</h4>
				
				<div class="video-container">
						<h5 class="subtitulo_lab">Videos Originais:</h5>
						<p class="texto_padrao"></p>
						
						<div class="video-wrapper">
							<video controls>
								<source src="lab05/pt11/lab5_pt1/video2or.mp4" type="video/mp4">
								<p class="caption">Vídeo com movimentos rápidos</p>		
						
							</video>
							<video controls>
								<source src="lab05/pt11/lab5_pt1/output.mp4" type="video/mp4">
								<p class="caption">Vídeo com movimentos lentos</p>
							</video>
						</div>
						
						<div class="video-container">
						<h5 class="subtitulo_lab">Videos com subtração de fundo:</h5>
						<p class="texto_padrao"></p>
						
						<div class="video-wrapper">
							<video controls>
								<source src="lab05/pt11/lab5_pt1/video2background.mp4" type="video/mp4">
								<p class="caption">Vídeo com movimentos rápidos - fundo subtraído</p>		
						
							</video>
							<video controls>
								<source src="lab05/pt11/lab5_pt1/fg_mask_output.mp4" type="video/mp4">
								<p class="caption">Vídeo com movimentos lentos - fundo subtraído</p>
							</video>
						</div>
								    <p class="texto_padrao">	Em ambos os videos o código conseguiu detectar bem quais eram as pessoas em movimento. No primeiro vídeo ele também comsegui detectar as pessoas que estavam longe da cena principal e não aparecem aparecem muitos pontos brancos onde nao existem pessoas.Já no video 2 em alguns momentos há um flash detectando o teto, de alguma forma quando atualiza o background, possivelmente pela illuminação direta, é detectado como em movimento, porem são bem definidos os movimentos principalmente das mãos.	</p>
						</div>
						<h4 class="subtitulo_lab">b) Subtração de fundo a partir de WebCam</h4>
				
				<div class="video-container">
						<h5 class="subtitulo_lab">Enquadramento próximo:</h5>
						<p class="texto_padrao"></p>
						
						<div class="video-wrapper">
							<video controls>
								<source src="lab05/pt2videos/original_video_3(1).mp4" type="video/mp4">
								<p class="caption">Vídeo Original - enquadramento próximo</p>		
						
							</video>
							<video controls>
								<source src="lab05/pt2videos/background_subtracted_video_3.mp4" type="video/mp4">
								<p class="caption">Vídeo com subtração de fundo - enquadramento próximo</p>
							</video>
						</div>
						
						<div class="video-container">
						<h5 class="subtitulo_lab">Enquadramento distante e reflexo:</h5>
						<p class="texto_padrao"></p>
						
						<div class="video-wrapper">
							<video controls>
								<source src="lab05/pt2videos/original_video_2.mp4" type="video/mp4">
								<p class="caption">Vídeo Original - enquadramento distante</p>		
						
							</video>
							<video controls>
								<source src="lab05/pt2videos/background_subtracted_video_2.mp4" type="video/mp4">
								<p class="caption">Vídeo com subtração de fundo - enquadramento distante</p>
							</video>
						</div>
						<p class="texto_padrao"> Para a gravação com a webcam foi utilizado o código(aqui), e neste caso houve muito delay na execucao do programa, tazvem por ser muita coisa pra processar a webcam fica lenta, isso é notavel no primeiro video onde o trecho que é detectado tem 2 segundos e o com o processamento ficou com 7 segundos. A detecção funcionou melhor com baixa luz. </p>

			<h3 class="subtitulo_lab">V. Conclusões e Comentários Finais</h3>
				<p class="texto_padrao">(Concluir aqui) </p>
			
			<h3 class="subtitulo_lab">VI. Referências</h3>
				<p class="texto_padrao"> <a href="https://docs.opencv.org/4.x/db/df5/tutorial_linux_gcc_cmake.html">Using OpenCV with gcc and Cmake</a>
				</p>
				<p class="texto_padrao"> <a href="https://docs.opencv.org/4.x/db/deb/tutorial_display_image.html">Getting Started with Images</a>
				</p>
				<p class="texto_padrao"> <a href="https://learnopencv.com/reading-and-writing-videos-using-opencv/">Reading and Writing Videos using OpenCV</a>
				</p>
	    			<p class="texto_padrao"> <a href="https://stackoverflow.com/questions/30103077/what-is-the-codec-for-mp4-videos-in-python-opencv">what is the codec for mp4 videos in python OpenCV</a>
				</p>

				<p class="texto_padrao"> <a href="https://docs.opencv.org/4.x/d1/dc5/tutorial_background_subtraction.html">
					How to Use Background Subtraction Methods
				</p>

				
				<p class="texto_padrao"> <a href="https://github.com/opencv/opencv/blob/4.x/samples/cpp/tutorial_code/video/bg_sub.cpp">
					Background subtraction tutorial sample code				</p>

					<p class="texto_padrao"> <a href="https://github.com/opencv/opencv/blob/4.x/samples/data/vtest.avi">
						Test Video AVI Format			</p>


</body>
</html>
